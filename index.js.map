{"version":3,"file":"index.js","sources":["src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\ndeclare global {\n    interface Window { \n        pcconfig: any[];\n        openPrivacyCenter: () => void;\n    }\n}\n\ninterface PrivaceCenterProps {\n    fallback: string;\n    id: string;\n    children?: React.ReactNode;\n}\n\nexport class PrivacyCenter extends React.Component<PrivaceCenterProps, any> {\n\n    constructor(props: PrivaceCenterProps | Readonly<PrivaceCenterProps>) {\n        super(props);\n    }\n\n    componentDidMount() {\n        if ( window.pcconfig === undefined ) {\n            const script = document.createElement(\"script\");\n            script.src = \"https://cdn.port.im/privacycenter/main.js\";\n            script.async = true;\n\n            document.body.appendChild(script);\n\n            let pcconfig = [];\n            pcconfig.push({key: this.props.id});\n            pcconfig.push({auto: false});\n\n            window.pcconfig = pcconfig;\n        }\n    }\n\n    open(e: any) {\n        if ( window.openPrivacyCenter !== undefined ) {\n            e.preventDefault();\n            window.openPrivacyCenter();\n        }\n    }\n\n    render() {\n        return <a href={this.props.fallback} target=\"_blank\" onClick={this.open}>{this.props.children}</a>\n    }\n}"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAemC,iCAAwC;IAEvE,uBAAY,KAAwD;eAChE,kBAAM,KAAK,CAAC;KACf;IAED,yCAAiB,GAAjB;QACI,IAAK,MAAM,CAAC,QAAQ,KAAK,SAAS,EAAG;YACjC,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,MAAM,CAAC,GAAG,GAAG,2CAA2C,CAAC;YACzD,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YAEpB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAElC,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,QAAQ,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;YAE7B,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC9B;KACJ;IAED,4BAAI,GAAJ,UAAK,CAAM;QACP,IAAK,MAAM,CAAC,iBAAiB,KAAK,SAAS,EAAG;YAC1C,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,MAAM,CAAC,iBAAiB,EAAE,CAAC;SAC9B;KACJ;IAED,8BAAM,GAAN;QACI,OAAOA,sCAAG,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,IAAI,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAK,CAAA;KACrG;IACL,oBAAC;AAAD,CAAC,CAhCkCA,gBAAK,CAAC,SAAS;;;;"}